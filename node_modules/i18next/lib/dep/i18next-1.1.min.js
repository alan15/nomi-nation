
(function(){function j(a,c){e.extend(d,a),typeof d.ns=="string"&&(d.ns={namespaces:[d.ns],defaultNs:d.ns}),d.lng||(d.lng=e.detectLanguage()),g=d.lng,i=[],g&&i.push(g),g.length===5&&i.push(g.substr(0,2)),i.indexOf(d.fallbackLng)===-1&&i.push(d.fallbackLng);if(d.resStore){f=d.resStore,b&&d.setJqueryExt&&l(),c&&c(p);return}s.load(i,d.ns,d.useLocalStorage,d.dynamicLoad,function(a,e){f=e,b&&d.setJqueryExt&&l(),c&&c(p)})}function k(a,b){j({lng:a},b)}function l(){function a(a,c){if(c.length===0)return;var d="text";if(c.indexOf("[")===0){var e=c.split("]");c=e[1],d=e[0].substr(1,e[0].length-1)}c.indexOf(";")===c.length-1&&(c=c.substr(0,c.length-2)),d==="text"?a.text(b.t(c,{defaultValue:a.text()})):a.attr(d,b.t(c,{defaultValue:a.attr(d)}))}b.t=b.t||p,b.fn.i18n=function(c){return this.each(function(){var c=b(this).find("[data-i18n]");c.each(function(){var c=b(this),d=c.attr("data-i18n");if(d.indexOf(";")<=d.length-1){var e=d.split(";");b.each(e,function(b,d){a(c,d)})}else a(c,d)})})}}function m(a,b){return e.each(b,function(b,c){a=a.replace([d.interpolationPrefix,b,d.interpolationSuffix].join(""),c)}),a}function n(a,b){while(a.indexOf(d.reusePrefix)!=-1){h++;if(h>d.maxRecursion)break;var c=a.indexOf(d.reusePrefix),e=a.indexOf(d.reuseSuffix,c)+d.reuseSuffix.length,f=a.substring(c,e),g=f.replace(d.reusePrefix,"").replace(d.reuseSuffix,""),i=q(g,b);a=a.replace(f,i)}return a}function o(a){return a.count&&typeof a.count!="string"&&a.count>1}function p(a,b){return h=0,q(a,b)}function q(a,b){b=b||{};var c=b.defaultValue||a;if(!f)return c;var h=d.ns.defaultNs;if(a.indexOf(d.nsseparator)>-1){var j=a.split(d.nsseparator);h=j[0],a=j[1]}if(o(b)){var k=e.extend({},b);delete k.count,k.defaultValue=d.pluralNotFound;var l=a+d.pluralSuffix,q=t.get(g,b.count);q!=="other"&&(l=l+"_"+q);var r=p(l,k);if(r!=d.pluralNotFound)return m(r,{count:b.count})}var u;for(var v=0,w=i.length;v<w;v++){if(u)break;var x=i[v],y=a.split(d.keyseparator),z=0,A=f[x][h];while(y[z])A=A&&A[y[z]],z++;A&&(A=m(A,b),A=n(A,b),u=A)}return!u&&d.sendMissing&&s.postMissing(h,a,c),u?u:c}function r(){return navigator?navigator.language?navigator.language:navigator.userLanguage:d.fallbackLng}function u(){return g}var a=this,b=a.jQuery,c={};typeof module!="undefined"&&module.exports?module.exports=c:b?b.i18n=b.i18n||c:a.i18n=a.i18n||c;var d={lng:!1,fallbackLng:"dev",ns:"translation",nsseparator:":",keyseparator:".",resGetPath:"locales/__lng__/__ns__.json",resPostPath:"locales/add/__lng__/__ns__",resStore:!1,useLocalStorage:!0,dynamicLoad:!1,sendMissing:!1,interpolationPrefix:"__",interpolationSuffix:"__",reusePrefix:"$t(",reuseSuffix:")",pluralSuffix:"_plural",pluralNotFound:["plural_not_found",Math.random()].join(""),setJqueryExt:!0},e={extend:b?b.extend:undefined,each:b?b.each:undefined,ajax:b?b.ajax:undefined,detectLanguage:r},f=!1,g=!1,h=0,i=[],s={load:function(a,b,c,d,f){c?s._loadLocal(a,function(c,g){var h=[];for(var i=0,j=a.length;i<j;i++)g[a[i]]||h.push(a[i]);h.length>0?s._fetch(h,b,d,function(a,b){e.extend(g,b),s._storeLocal(b),f(null,g)}):f(null,g)}):s._fetch(a,b,d,function(a,b){f(null,b)})},_loadLocal:function(a,b){var c={};if(window.localStorage){var d=a.length;e.each(a,function(a,e){var f=window.localStorage.getItem("res_"+e);f&&(c[e]=JSON.parse(f)),d--,d===0&&b(null,c)})}},_storeLocal:function(a){if(window.localStorage)for(var b in a)window.localStorage.setItem("res_"+b,JSON.stringify(a[b]));return},_fetch:function(a,b,c,f){var g={};if(!c){var h=b.namespaces.length*a.length;e.each(b.namespaces,function(b,c){e.each(a,function(a,b){s._fetchOne(b,c,function(a,d){g[b]=g[b]||{},g[b][c]=d,h--,h===0&&f(null,g)})})})}else e.ajax({url:m(d.resGetPath,{lng:a.join("+"),ns:b.namespaces.join("+")}),success:function(a,b,c){f(null,a)},error:function(a,b,c){f("failed loading resource.json error: "+c)},dataType:"json"})},_fetchOne:function(a,b,c){e.ajax({url:m(d.resGetPath,{lng:a,ns:b}),success:function(a,b,d){c(null,a)},error:function(a,b,d){c(d,{})},dataType:"json"})},postMissing:function(a,b,c){var g={};g[b]=c,e.ajax({url:m(d.resPostPath,{lng:d.fallbackLng,ns:a}),type:"POST",data:g,success:function(e,g,h){f[d.fallbackLng][a][b]=c},error:function(a,b,c){},dataType:"json"})}},t={rules:{sl:function(a){return a%100===1?"one":a%100===2?"two":a%100===3||a%100===4?"few":"other"}},addRule:function(a,b){t.rules[a]=b},get:function(a,b){function d(a,b){return t.rules[a]?t.rules[a](b):b===1?"one":"other"}var c=a.split("-");return c.length===2?d(c[0],b):d(a,b)}};c.init=j,c.setLng=k,c.t=p,c.translate=p,c.detectLanguage=e.detectLanguage,c.pluralExtensions=t,c.sync=s,c.functions=e,c.lng=u,c.options=d})()